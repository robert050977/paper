!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,e},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw e}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}function u(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0});t.DomHelper=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"getCmp",value:function(){var e="";return void 0!==window.__tcfapi&&window.__tcfapi("getTCData",null,(function(t){e=t.tcString})),e}},{key:"isElementInView",value:function(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,o=t.top<=n&&0<=t.top+t.height,i=t.left<=r&&0<=t.left+t.width;return o&&i}},{key:"getItemsByClass",value:function(e){return document.getElementsByClassName(e)}},{key:"getItemById",value:function(e){return document.getElementById(e)}},{key:"checkAdBlockStatus",value:function(e,t){var n=this,r=document.createElement("div");r.innerHTML="&nbsp;",r.className="adsbox ad adsbox doubleclick ad-placement carbon-ads",document.body.appendChild(r),window.setTimeout((function(){var i,a=0===r.offsetWidth,u=o(document.getElementsByClassName(t));try{for(u.s();!(i=u.n()).done;){var s=i.value,l=n.getNextSiblingByClass(s,e),c=void 0!==l.dataset.sponsored&&"true"===l.dataset.sponsored.toLowerCase();!a||c?s.parentNode.removeChild(s):(s.style.removeProperty("visibility"),s.style.removeProperty("display"),l.parentNode.removeChild(l))}}catch(e){u.e(e)}finally{u.f()}r.remove()}),100)}},{key:"saveInViewHandler",value:function(e){window.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e),window.addEventListener("scroll",e),window.addEventListener("resize",e)}},{key:"getHost",value:function(){return window.location.host}},{key:"getGoogleDataLayer",value:function(){return window.dataLayer}},{key:"getSas",value:function(){return window.sas}},{key:"getNextSiblingByClass",value:function(e,t){for(var n=e.nextElementSibling;n;){if(n.classList.contains(t))return n;n=n.nextElementSibling}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoInitializer=void 0;var r=n(2),o=n(0),i=n(3),a=n(4),u=n(6),s=n(7),l=n(8),c=n(9),d=n(10);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}function v(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}var p=t.VideoInitializer=function(){function e(){var t=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),v(this,"watch",(function(e){var n=t.domHelper.getItemsByClass(e);t.watchPlayers(e,n)})),v(this,"watchUninitialized",(function(e){var n=t.domHelper.getItemsByClass(e),r=Array.from(n).filter((function(e){return!e.querySelector("video-js")}));t.watchPlayers(e,r)})),v(this,"watchPlayers",(function(e,n){t.domHelper.checkAdBlockStatus(e,"player-block-info"),new r.MediaController(t.domHelper,t.sticky,t.adsCreator).watchVisibilityChange(n,t.playerCreator.init.bind(t.playerCreator))})),v(this,"start",(function(e,n){var r=t.domHelper.getItemById(e);r.dataset.hb_ok=!0,r.dataset.adtagurl=n,t.playerCreator.init(r)})),this.domHelper=new o.DomHelper,this.sticky=new a.Sticky,this.vjsCreator=new i.VjsCreator,this.adsCreator=new d.AdsCreator,this.playerCreator=new u.PlayerCreator(this.vjsCreator,s.StatPlugin,this.sticky,this.domHelper.getCmp(),l.PlaylistPlugin,this.adsCreator)}return function(e,t,n){t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"initOnElement",value:function(e){this.playerCreator.init(e)}}]),e}();window.utils=new c.Utils(document.referrer);try{window.videoInit=new p,document.addEventListener("DOMContentLoaded",(function(){videoInit.watch("turbo-vjs")})),window.addEventListener("dynamicPageContentChanged",(function(){videoInit.watch("turbo-vjs")})),window.addEventListener("replaceTimelines",(function(){videoInit.watch("turbo-vjs")})),window.addEventListener("refreshLivesVideos",(function(){videoInit.watchUninitialized("turbo-vjs")}))}catch(e){console.log(e)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,e},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw e}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}function u(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0});t.MediaController=function(){function e(t,n,r){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.domHelper=t,this.playerCreator=n,this.adsCreator=r}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"watchVisibilityChange",value:function(e,t){var n,r=0,i=o(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r++,a.dataset.order=r,a.dataset.playerReady="false";var u=this.onVisibilityChange(a,t);this.domHelper.saveInViewHandler(u)}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"onVisibilityChange",value:function(e,t){var n=this;return function(){if(n.domHelper.isElementInView(e)){"false"==e.dataset.playerReady&&("false"==e.dataset.hb_enable||void 0===sas_idmnet.configReady?t(e):!e.dataset.hb_sent&&n.adsCreator.sas_idmnet_push(e));var r=new Event("elementInViewportEvent");e.dispatchEvent(r)}}}}]),e}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0});t.VjsCreator=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),i(this,"playerId",null),i(this,"api",null),i(this,"autoplay",!0)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"shouldAutoplay",value:function(e,t){return"off"!=t&&1==e}},{key:"create",value:function(e){var t="".concat(e.getAttribute("data-splash")),n="".concat(e.getAttribute("data-title")),r="".concat(e.getAttribute("id"),"-vjs"),o=videojs.getPlayer(r);if(void 0!==o&&(o.dispose(),delete videojs.getPlayers()[r]),e.innerHTML='<video-js class="vjs-default-skin vjs-styles-defaults vjs-big-play-centered" id="'.concat(r,'"></video-js>'),null!==document.getElementById(r)){var i=e.getAttribute("data-order"),a=e.getAttribute("data-autoplay");this.autoplay=this.shouldAutoplay(i,a);var u={autoplay:this.autoplay,muted:this.autoplay};e.getAttribute("data-configoverride")&&(this.autoplay="true"==e.getAttribute("data-autoplay").toLowerCase(),u={autoplay:this.autoplay,muted:"true"==e.getAttribute("data-muted").toLowerCase()}),this.api=videojs(r,{html5:{vhs:{overrideNative:!videojs.browser.IS_SAFARI}},controls:!0,debug:!0,language:"pl",liveui:!1,muted:u.muted,autoplay:u.autoplay,preload:"auto",responsive:!0,playsinline:!0,poster:t,title:n,sources:[{src:e.dataset.src,type:"application/x-mpegurl"}]}),this.playerId=r,this.api.poster(t)}}},{key:"getApi",value:function(){return this.api}},{key:"getPlayerId",value:function(){return this.playerId}},{key:"getPlayerSplash",value:function(){return this.playerSplash}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sticky=void 0;var r=n(5);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}t.Sticky=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){var t=this,n=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];a(this,e),u(this,"enableSticky",(function(){t.state.closedByUser||(t.state.stickyEnabled=!0,t.handleStickyVideo(),window.addEventListener("scroll",t.onWindowScroll))})),u(this,"disableSticky",(function(){t.state.stickyEnabled=!1,window.removeEventListener("scroll",t.onWindowScroll)})),u(this,"disableCountdownTimer",(function(){t.state.exitButtonCount===t.countdownMax&&(t.state.exitButtonCount=0)})),u(this,"initialize",(function(e,n){if(t.containerId=n||"sticky-container",t.container=document.getElementById(t.containerId),t.container){var o=document.createElement("div");t.elements.wrapDiv=o,o.className="sticky-container__wrap",t.container.parentElement.insertBefore(o,t.container),(0,r.insertAfter)(o,t.container),(0,r.wrapChild)(t.container,o),(0,r.addClass)(o,"sticky-container_in-content"),(0,r.addClass)(t.container,"sticky-container__video"),t.api=e}})),u(this,"onWindowScroll",(function(){t.state.closedByUser||(t.handleStickyVideo(),t.handleStickyWithFloorAd())})),u(this,"handleStickyVideo",(function(){t.fixElementHeight();var e=t.elements.wrapDiv;(0,r.elementInViewPort)(e)?((0,r.removeClass)(t.container,"videoUp"),(0,r.removeClass)(e,"sticky-container_sticky"),(0,r.addClass)(e,"sticky-container_in-content"),t.removeExitButton()):(t.addSticky(),t.addExitButton(),!t.state.countdownInterval&&(t.state.countdownInterval=setInterval(t.countdown,1e3)))})),u(this,"handleStickyWithFloorAd",(function(){!t.state.floorAdHandled&&t.floorAdExists()&&(t.state.floorAdHandled=!0,document.querySelector("#floorLayer div svg").parentNode.addEventListener("click",(function(){(0,r.removeClass)(t.container,"videoUp")})))})),u(this,"fixElementHeight",(function(){if(null!=t.container){var e=t.container.parentElement;!e||(e.style.height=e.offsetHeight+"px")}})),u(this,"countdownText",(function(){return 0<t.state.exitButtonCount?"Zamknij za ".concat(t.state.exitButtonCount):"Zamknij <span>X</span>"})),u(this,"mutePlayer",(function(){var e=t.api.ima.controller;e.sdkImpl.adMuted=!1,e.onAdMuteClick()})),u(this,"handleExitPossibility",(function(e){0>=t.state.exitButtonCount&&(clearInterval(t.state.countdownInterval),e.onclick=function(){t.removeSticky(),t.disableSticky(),t.mutePlayer()})})),u(this,"addExitButton",(function(){if(t.state.buttonCreated)return!1;document.createElement("span");var e=document.createElement("div");e.innerHTML=t.countdownText(),e.setAttribute("id","sticky-close-button"),t.container.appendChild(e),t.state.buttonCreated=!0,t.handleExitPossibility(e)})),u(this,"countdown",(function(){t.state.exitButtonCount-=1;var e=document.getElementById("sticky-close-button");!e||(e.innerHTML=t.countdownText(),t.handleExitPossibility(e))})),u(this,"removeExitButton",(function(){if(!t.state.buttonCreated)return!1;var e=document.querySelector("#sticky-close-button");e.parentNode.removeChild(e),t.state.buttonCreated=!1})),u(this,"removeSticky",(function(){t.state.closedByUser=!0;var e=t.elements.wrapDiv;(0,r.removeClass)(t.container,"videoUp"),(0,r.removeClass)(e,"sticky-container_sticky"),(0,r.addClass)(e,"sticky-container_in-content"),t.removeExitButton()})),u(this,"addSticky",(function(){var e=t.elements.wrapDiv;t.floorAdExists()?(0,r.addClass)(t.container,"videoUp"):(0,r.removeClass)(t.container,"videoUp"),(0,r.removeClass)(e,"sticky-container_in-content"),(0,r.addClass)(e,"sticky-container_sticky")})),u(this,"floorAdExists",(function(){return!!document.getElementById("floorLayer")})),this.countdownMax=5,this.state={stickyEnabled:n,closedByUser:!1,buttonCreated:!1,floorAdHandled:!1,countdownInterval:!1,exitButtonCount:this.countdownMax},this.elements={},this.api=null}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.elementInViewPort=function(e){return e.getBoundingClientRect().top>-e.offsetHeight},t.addClass=function(e,t){e.classList.add(t)},t.removeClass=function(e,t){e.classList.remove(t)},t.hasClass=function(e,t){e.classList.contains(t)},t.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},t.wrapChild=function(e,t){return t.appendChild(e)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0});t.PlayerCreator=function(){var e=Math.round;function t(e,n,r,o,a,u){var s=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),function(e,t,n){(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"loadIma",(function(e,t,n,r){if(n.adTagUrl){var o={id:t,adTagUrl:n.adTagUrl+"&vid="+n.videoUid,adLabel:"Reklama",vpaidMode:2,disableCustomPlaybackForIOS10Plus:!0,numRedirects:6};s.adsExists=!0}else void 0===o?(s.adsExists=!1,console.log("Reklamy IMA wylaczone lub brak ")):(o.adTagUrl=o.adTagUrl.replace(/(vid=)[^\&]+/,"$1"+n.videoUid),s.adsExists=!0);void 0!==e.ima&&s.adsExists&&(e.ima(o),e.on("ads-manager",(function(e){var t=e.adsManager;t.addEventListener(google.ima.AdEvent.Type.STARTED,(function(){r.enableSticky()})),t.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(){r.disableCountdownTimer()}))})))})),this.vjsCreator=e,this.statPluginClass=n,this.sticky=r,this.crtg_content=o,this.playlistPluginClass=a,this.adsCreator=u,this.subsequentVideo=!1}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"init",value:function(e){this.vjsCreator.create(e);var t=this.vjsCreator.getApi();if(t){e.dataset.playerReady="true";var n=this.vjsCreator.getPlayerId(),r=new Event("vjsInitialized"),o={programName:e.dataset.title,video_cid:e.dataset.contentid,video_duration:e.dataset.length,videoUid:e.dataset.uid,ads:!1,adTagUrl:e.dataset.adtagurl,timeMinutesToEnd:e.dataset.timeminutestoend};if(new this.statPluginClass(t,o).init(),this.loadGemius(t,e),"true"==e.dataset.subsequentvideo)new this.playlistPluginClass(t,o,this.adsCreator).init(),this.subsequentVideo=!0;(void 0===e.dataset.sponsored||"true"!==e.dataset.sponsored.toLowerCase())&&this.loadIma(t,n,o,this.sticky),1==e.dataset.order&&1==e.dataset.sticky&&this.sticky.initialize(t,n),this.blockLiveStream(t,o),this.removeFallbackTag(o),document.dispatchEvent(r)}}},{key:"blockLiveStream",value:function(e,t){if(0<t.timeMinutesToEnd)var n=setInterval((function(){var r=parseInt(t.timeMinutesToEnd);e.currentTime()>60*r&&(console.log("pause"),e.pause(),window.clearInterval(n))}),5e3)}},{key:"removeFallbackTag",value:function(e){var t="video-player-".concat(e.videoUid,"_fallback");null===document.getElementById(t)||document.getElementById(t).remove()}},{key:"loadGemius",value:function(e,t){var n=new GemiusPlayer("Player_Grupa_ZPR_Media","AkTglGrAtwMWLu2h5J6bi_W07H8pyyxTkw6K5lVoJdb.M7",{volume:-1,currentDomain:window.location.hostname,resolution:"1280x720"}),r=1;"True"===t.dataset.live||"true"===t.dataset.live||""==t.dataset.length||(r=t.dataset.uid),n.setVideoObject(t),this.initGemiusProgram(n,t,e,r),this.initGemiusEvents(n,t,e,r)}},{key:"initGemiusProgram",value:function(t,n,r,o){var i=this.getTransmissionChannel(),a={programName:n.dataset.title.replaceAll(/["„”\[\]]/g,""),programType:"video",volume:-1};"True"===n.dataset.live||"true"===n.dataset.live||""==n.dataset.length?(a.programDuration=-1,a.programGenre=1,a.transmissionType=2,a.transmissionChannel=i,a.transmissionStartTime=e(Date.now()/1e3).toString()):(a.transmissionType=1,a.programDuration=n.dataset.length,a.programGenre=3),t.newProgram(o,a)}},{key:"initGemiusEvents",value:function(e,t,n,r){var o=this,i=t,a=!1,u={autoPlay:this.vjsCreator.autoplay,subsequentVideo:this.subsequentVideo,volume:this.getPlayerVolume(n),resolution:"1280x720"};n.on("play",(function(){a=!1;var t=parseInt(this.currentTime());u.volume=o.getPlayerVolume(n),e.programEvent(r,t,"play",u)})),n.on("pause",(function(){if(!this.seeking()){var t=parseInt(this.currentTime());u.volume=o.getPlayerVolume(n),e.programEvent(r,t,"pause",u)}})),n.on("seeking",(function(){if(!a){var t=parseInt(this.currentTime());u.volume=o.getPlayerVolume(n),e.programEvent(r,t,"seek",u),a=!0}})),n.on("ended",(function(){var t=parseInt(this.currentTime());u.volume=o.getPlayerVolume(n),e.programEvent(r,t,"complete",u)})),n.on("ads-manager",(function(t){var a=t.adsManager;a.addEventListener(google.ima.AdEvent.Type.LOADED,(function(t){o.onGamAdEvent(t,n,e,i,r)})),a.addEventListener(google.ima.AdEvent.Type.STARTED,(function(t){o.onGamAdEvent(t,n,e,i,r)})),a.addEventListener(google.ima.AdEvent.Type.PAUSED,(function(t){o.onGamAdEvent(t,n,e,i,r)})),a.addEventListener(google.ima.AdEvent.Type.RESUMED,(function(t){o.onGamAdEvent(t,n,e,i,r)})),a.addEventListener(google.ima.AdEvent.Type.COMPLETE,(function(t){o.onGamAdEvent(t,n,e,i,r)})),a.addEventListener(google.ima.AdEvent.Type.SKIPPED,(function(t){o.onGamAdEvent(t,n,e,i,r)}))}))}},{key:"parseDomain",value:function(e){var t=e.split(".");return"".concat(t.slice(-2)[0],".").concat(t.slice(-1)[0])}},{key:"getTransmissionChannel",value:function(){return window.location.hostname.replace(".","_")}},{key:"getPlayerVolume",value:function(t){if(t)return t.muted()?-1:e(100*t.volume())}},{key:"onGamAdEvent",value:function(e,t,n,r,o){var i=e.getAd(),a=i.getAdId();if("vpaid-adapter"!=a){var u={adName:i.getTitle(),adDuration:i.getDuration(),adType:"break",adFormat:1,quality:"1280x720",volume:this.getPlayerVolume(t)},s=o,l=i.getAdPodInfo(),c={autoPlay:this.vjsCreator.autoplay,adDuration:i.getDuration(),adPosition:l.adPosition,breakSize:l.totalAds,volume:this.getPlayerVolume(t)},d=parseInt(t.currentTime());switch(e.type){case google.ima.AdEvent.Type.LOADED:n.newAd(a,u),this.adsExists=!0,r.classList.add("video-player-ads-on");break;case google.ima.AdEvent.Type.STARTED:d=0,n.adEvent(s,a,d,"play",c);break;case google.ima.AdEvent.Type.PAUSED:n.adEvent(s,a,d,"pause");break;case google.ima.AdEvent.Type.RESUMED:n.adEvent(s,a,d,"play",c);break;case google.ima.AdEvent.Type.COMPLETE:n.adEvent(s,a,d,"complete"),this.adsExists=!1,r.classList.remove("video-player-ads-on");break;case google.ima.AdEvent.Type.SKIPPED:n.adEvent(s,a,d,"skip"),this.adsExists=!1,r.classList.remove("video-player-ads-on")}}}}]),t}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0});t.StatPlugin=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.api=t,this.mediaParams=n,this.statsData={video_title:n.programName,video_cid:n.video_cid,video_duration:n.video_duration,material:"video"},this.dataLayer=[],this.playsEventsToIgnore=0,this.pauseEventsToIgnore=0}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"init",value:function(){this.videoPlayBackStart=null,this.setEventsToIgnore(),this.pinEventToPlayer(this.api),window.addEventListener("beforeunload",this.exit.bind(this))}},{key:"setEventsToIgnore",value:function(){!0===this.mediaParams.ads&&(this.playsEventsToIgnore=1,this.pauseEventsToIgnore=1)}},{key:"pinEventToPlayer",value:function(e){if(null!==e){var t=this,n=new Event("mediaStartedPlaying"),r=new Event("mediaStoppedPlaying");e.on("ready",(function(){null===t.videoPlayBackStart&&(t.videoPlayBackStart=new Date)})),e.on("pause",(function(){return document.dispatchEvent(r),0<t.pauseEventsToIgnore?void t.pauseEventsToIgnore--:void t.playsEventsToIgnore++})),e.on("play",(function(){return 0==e.muted()&&document.dispatchEvent(n),0<t.playsEventsToIgnore?void t.playsEventsToIgnore--:void t.dataLayerPush("play",0,t.getCurrentTime())})),e.on("ended",(function(){document.dispatchEvent(r),t.dataLayerPush("complete",0,t.getCurrentTime()),t.setEventsToIgnore()})),e.on("stop",(function(){document.dispatchEvent(r)})),e.on("volumechange",(function(){0==e.muted()&&document.dispatchEvent(n)})),e.on("adend",(function(){e.play()}))}}},{key:"exit",value:function(){var e=this.getPlaybackTime(this.videoPlayBackStart);0<e&&this.dataLayerPush("close",0,e)}},{key:"getCurrentTime",value:function(){var e=Math.floor;if(isNaN(this.api.remainingTime()))return e(0);var t=this.mediaParams.duration-this.api.remainingTime();return 0>t&&(t=0),e(t)}},{key:"getPlaybackTime",value:function(e){if(null!==e){var t=new Date-e;return parseInt(t/1e3)}return null}},{key:"dataLayerPush",value:function(e,t){var n=this.statsData;n.event=e,n.video_time=t}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlaylistPlugin=void 0;var r=n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(s){l=!0,o=s}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}t.PlaylistPlugin=function(){function e(t,n,o){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.api=t,this.mediaParams=n,this.videoUid=this.mediaParams.videoUid,this.prevUid="",this.adsCreator=o,this.domHelper=new r.DomHelper}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"init",value:function(){this.pinEventToPlayer(this.api)}},{key:"pinEventToPlayer",value:function(e){if(null!==e){var t=this;e.on("ended",(function(){if(t.prevUid!="".concat(t.videoUid)){var e=document.getElementById("video-player-".concat(t.videoUid,"-vjs"));t.domHelper.isElementInView(e)?(t.loadSubsequentVideo(),t.prevUid="".concat(t.videoUid)):(element=document.getElementById("video-player-".concat(t.videoUid)),element.dataset.load_subsequent_when_in_view_port=!0,element.addEventListener("elementInViewportEvent",(function(){t.handleLoadSubsequentVideoWhenElementInViewPort()})))}}))}}},{key:"handleLoadSubsequentVideoWhenElementInViewPort",value:function(){element=document.getElementById("video-player-".concat(this.videoUid)),element.dataset.load_subsequent_when_in_view_port&&this.loadSubsequentVideo()}},{key:"loadSubsequentVideo",value:function(){var e=this,t="/videos/".concat(this.videoUid,"/subsequent/"),n=new XMLHttpRequest;n.responseType="json",n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t=e.rebuildHtml(n.response);e.api.dispose(),e.updateUpscoreAuthor(n.response,t),"false"==t.dataset.hb_enable?window.videoInit.initOnElement(t):e.adsCreator.sas_idmnet_push(t)}else console.log(n.statusText)},n.open("GET",t,!0),n.send()}},{key:"rebuildHtml",value:function(e){var t=new Event("vjsSubsequentVideoLoaded"),n=document.getElementById("video-player-".concat(this.videoUid));e.sticky=n.dataset.sticky,e.order=n.dataset.order;var r=n.parentElement;r.removeChild(n);var o=this.createNewHtmlClass(e);return r.appendChild(o),document.dispatchEvent(t),o}},{key:"createNewHtmlClass",value:function(e){var t=document.createElement("div"),n=e.uid,r={id:"video-player-".concat(n),class:"turbo-vjs","data-title":e.title,"data-uid":n,"data-src":e.url,"data-length":e.length,"data-contentid":e.content_id,"data-splash":e.splash,"data-autoplay":!0,"data-configoverride":!0,"data-muted":!0,"data-sponsored":e.turn_off_ads,"data-subsequentvideo":!0,"data-hb_enable":e.hb_enable,"data-order":e.order,"data-sticky":e.sticky};0==this.api.muted()&&(r["data-muted"]=!1);for(var o=0,a=Object.entries(r);o<a.length;o++){var u=i(a[o],2),s=u[0],l=u[1];t.setAttribute(s,l)}return t}},{key:"updateUpscoreAuthor",value:function(e,t){var n="#".concat(t.id),r=document.querySelector(n).closest("div.gl_plugin.player");e.author?r.setAttribute("data-upscore-video-author",e.author.upscore_name):r.setAttribute("data-upscore-video-author","")}}]),e}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0});t.Utils=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.referrer=this.getReferrer(t)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"redirectToExitUrl",value:function(e,t){this.referrer&&!this.referrer.includes(t)&&(window.location.href=this.referrer),window.location.href="/"}},{key:"getReferrer",value:function(e){try{var t=new URL(e).hostname;if(location.hostname.includes(t))return e}catch(e){}return null}}]),e}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}Object.defineProperty(t,"__esModule",{value:!0});t.AdsCreator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"sas_idmnet_push",value:function(e){sas_idmnet.cmd.push((function(){var t=e.id;sas_idmnet.releaseVideo(t),e.dataset.hb_sent=!0,e.dataset.hb_ok=!1}))}}]),e}()}]);